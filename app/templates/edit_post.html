{% extends "base.html" %}
{% block title %}Edit Post â€” UniBlog{% endblock %}
{% block content %}
<div class="px-4 py-8 sm:py-10 lg:py-12">
  <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-xl border border-gray-200 p-6 sm:p-10">
    <div class="mb-8 space-y-2 text-center sm:text-left">
      <h1 class="text-2xl sm:text-3xl font-extrabold text-gray-900 tracking-tight">Edit Your Post</h1>
      <p class="text-sm sm:text-base text-gray-500">Update the title and content, then publish the refreshed version.</p>
    </div>
    <form action="{{ url_for('main.edit_post', post_id=post.id) }}" method="post" enctype="multipart/form-data" class="grid grid-cols-1 gap-6">
      <div class="space-y-2">
        <label for="title" class="block text-sm font-semibold text-gray-700 uppercase tracking-wide">Title</label>
        <input name="title" id="title" value="{{ post.title }}" required class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-100 bg-gray-50 text-sm sm:text-base transition" />
      </div>
      <div class="space-y-2">
        <label for="thumbnail" class="block text-sm font-semibold text-gray-700 uppercase tracking-wide">Thumbnail Image</label>
        <div class="flex items-center gap-4">
            {% if post.thumbnail %}
                <img src="{{ url_for('main.uploaded_file', filename=post.thumbnail) }}" alt="Current thumbnail" class="w-20 h-20 object-cover rounded-lg border border-gray-200" />
            {% endif %}
            <input type="file" name="thumbnail" id="thumbnail" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition"/>
        </div>
        <p class="text-xs text-gray-400">Leave blank to keep the current thumbnail.</p>
      </div>
      <div class="space-y-2">
        <label for="content" class="block text-sm font-semibold text-gray-700 uppercase tracking-wide">Content</label>
        <textarea name="content" id="content" rows="10" required class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-100 bg-gray-50 text-sm sm:text-base transition leading-relaxed">{{ post.content }}</textarea>
        <p class="text-xs text-gray-400">Tip: Use clear structure and keep paragraphs concise for easier reading.</p>
      </div>
      <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-end pt-2">
        <a href="{{ url_for('main.profile', user_id=post.author.id) }}" class="w-full sm:w-auto px-6 py-3 rounded-xl font-semibold text-sm sm:text-base text-gray-700 bg-gray-100 hover:bg-gray-200 transition text-center">Cancel</a>
        <button type="submit" class="w-full sm:w-auto px-6 py-3 rounded-xl font-semibold text-sm sm:text-base text-white bg-blue-600 hover:bg-blue-700 transition shadow-md">Save Changes</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
